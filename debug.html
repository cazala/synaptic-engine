<script src="http://localhost:8080/synaptic.js" charset="UTF-8"></script>
<script>

// Feed Forward

var ff = new synaptic.Network(
  new synaptic.layers.Input(2),
  new synaptic.layers.Dense(5),
  new synaptic.layers.Dense(5),
  new synaptic.layers.Dense(1)
)
console.log(`Training XOR...`)
ff.learningRate = 0.05
for (var i = 0; i < 100000; i++) {
  ff.activate([0,0])
  ff.propagate([0])

  ff.activate([0,1])
  ff.propagate([1])

  ff.activate([1,0])
  ff.propagate([1])

  ff.activate([1,1])
  ff.propagate([0])
}

console.log(`[0, 0] => ${ff.activate([0,0])}`)
console.log(`[0, 1] => ${ff.activate([0,1])}`)
console.log(`[1, 0] => ${ff.activate([1,0])}`)
console.log(`[1, 1] => ${ff.activate([1,1])}`)


// LSTM

var inputs = 3
var memoryBlocks = 1
var outputs = 2
console.log(`\n\nLSTM (${inputs}, ${memoryBlocks}, ${outputs})\n`)
var lstm = new synaptic.Network(
  new synaptic.layers.Input(3),
  new synaptic.layers.LSTM(1),
  new synaptic.layers.Dense(2)
)
console.log('connections')
console.table(lstm.engine.connections)
console.log('gates')
console.table(lstm.engine.gates)
lstm.activate([0, 0, 0])
lstm.propagate([0, 0])
lstm.activate([1, 1, 0])
lstm.propagate([1, 0])
lstm.activate([0, 1, 1])
lstm.propagate([1, 1])
lstm.activate([1, 0, 1])
lstm.propagate([1, 0])
lstm.activate([0, 0, 1])
lstm.propagate([1, 0])
lstm.activate([0, 1, 0])
lstm.propagate([1, 1])
lstm.activate([1, 0, 0])
lstm.propagate([1, 1])
lstm.activate([0, 1, 1])
lstm.propagate([1, 0])
console.log('weights')
console.table(lstm.engine.weight)
console.log('gains')
console.table(lstm.engine.gain)

</script>
